---
outline: deep
---

# 一些功能的理解

<!-- ![](/images/cleavage/image.png) -->

<!-- ## 在线重启程序

步骤：

1. 在站点配置中，修改【程序名】、【启动脚本】，点击【提交】
2. 上传更新程序的二进制文件
3. 点击【重启】

**说明：** 点击【重启】前，一定先要修改【程序名】、【启动脚本】，否则，程序无法启动；

---

其中，【启动脚本】中，支持如下变量：

- `{pwd}` 当前程序运行的目录
- `{program_name}` 即上面的【程序名】 -->

## 其它配置

### 检查失效资源功能

描述：

开启后，在详情页面，会在页面中显示资源是否有效：

![](/images/cleavage/image-1.png)

### 当检测到失效链接时，自动从索引中删除

此功能，需要“检查失效资源功能”开启，否则不会生效；

描述：

在详情页面，如果检测到失效链接，系统会自动从索引中删除；

### 是否在资源失效时搜索同名资源

如果资源失效，则会在详情页面，显示同名资源的搜索结果；

### 开启失效资源跳转搜索页面

如果资源失效，则会用失效资源的名称作为搜索词，跳转到搜索页面；

注：该功能的优选级高于“是否在资源失效时搜索同名资源”；

### 用户/游客是否可以导入资源

如果开启，则用户/游客可以导入资源；会在首页显示导入资源的按钮；

### 首页展示搜索推荐词

如果开启，则会在首页展示搜索推荐词；

“搜索推荐词”通过“列表管理”添加；

### 首页展示影视推荐词

如果开启，则会在首页展示影视推荐词；
“影视推荐词”通过【热门管理】=> “影视热词”添加；

### 禁用影视搜索

开启后，会屏蔽大部分影视资源；

如果需要迁移旧数据（因为该功能需要全文索引的支持），如果版本<0.2.1 需要先“重建索引”，然后运行如果命令：

```sh
./reman fix rel-movie
```

### 移除相似的影视资源

背景：有些用户会把同个资源生成多个分享链接，导致某页搜索结果中，同用户的相似资源过多，影响用户体验；

可以通过此功能，移除相似的影视资源；

系统后台定期检测，如果发现相似资源，则会移除；

### 不收录重复资源

有一些用户将同一份资源，通过多次分享生成了不同的分享链接，但这还是属于同一份资源；

开启该选项，系统会自动检测，如果发现资源名称和用户名已经存在，则不再收录；

### 详情页描述模板

利用该功能，可以自定义详情页的描述( description )；

模板中支持的变量：

<!--
		"%site_name%":  siteName,
		"%site_title%": siteTitle,
		"%disk_name%":  d.DiskName,
		"%disk_type%":  strx.GetNameByType(d.DiskType),
		"%disk_link%":  godiskspider.GetLink(d.DiskID, d.DiskType, d.DiskPass),
		"%disk_files%": d.Files,

		"%disk_share_time%":  d.SharedTime.Format(time.DateTime),
		"%disk_create_time%": d.CreateTime.Format(time.DateTime),
 -->

- `%site_name%`: 站点名称
- `%site_title%`: 站点标题
- `%disk_name%`: 资源名称
- `%disk_type%`: 资源类型
- `%disk_link%`: 资源链接
- `%disk_files%`: 资源文件列表
- `%disk_share_time%`: 资源分享时间
- `%disk_create_time%`: 资源入库时间
- `%disk_update_time%`: 资源更新时间

**注意：** 系统会截断 150 个字符，超出部分会被截断；
